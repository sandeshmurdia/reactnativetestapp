var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _constants=require("./constants");var ApiCall=function(){var _ref=(0,_asyncToGenerator2.default)(function*(logData,req_body){req_body=JSON.stringify(req_body);_constants.LOGDATA.push(logData);var resp="";yield fetch(_constants.ZIPY_BASE_URL+"post",{method:_constants.POST,headers:new Headers({Authorization:_constants.BEARER_TOKEN,"Content-Type":_constants.CONTENT_TYPE}),body:req_body}).then(function(response){return response.json();}).then(function(json){resp=json;}).catch(function(error){console.error(error);});if(resp.success){_constants.LOGDATA.pop();}});return function ApiCall(_x,_x2){return _ref.apply(this,arguments);};}();var _default=exports.default=ApiCall;