var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _asyncStorage=_interopRequireDefault(require("@react-native-async-storage/async-storage"));var _helper=require("../utils/helper");var _ApiCall=_interopRequireDefault(require("../utils/ApiCall"));var _constants=require("../utils/constants");var _Init=require("./Init");var ScreenNavigation=function(){var _ref=(0,_asyncToGenerator2.default)(function*(state){var currentRoute=state.routes[state.index];var eventInfo={name:currentRoute.name,params:currentRoute.params,path:currentRoute.path};try{eventAt=yield(0,_helper.formatTimestamp)(Date.now());var logData={eventType:_constants.SCREENTRANSITION,createdAt:Date.now(),screenName:`${currentRoute.name||''}, EventInfo: ${JSON.stringify(eventInfo)}`,eventAt:`${eventAt}`};var sessionid=yield _asyncStorage.default.getItem("session_id");var req_body={message:{events:logData,'eu_info_id':'N/A','eue_id':'0','euz_id':'0','ip':'','rel_ver':'N/A','timezone':'IST',key:_Init.api_key,sdk_ver:_constants.SDK_VERSION,src:_constants.SRC,src_tech_stack:_constants.TECH_STACK,s_id:`${sessionid}`,event_type:_constants.MESSAGE}};yield(0,_ApiCall.default)(logData,req_body);}catch(error){}});return function ScreenNavigation(_x){return _ref.apply(this,arguments);};}();var _default=exports.default=ScreenNavigation;